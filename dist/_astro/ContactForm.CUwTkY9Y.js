import{j as e}from"./jsx-runtime.BCPyM5IQ.js";import{r as i}from"./index.OztxiM9T.js";const y=s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s),j=s=>/^\+?[\d\s-()]{10,}$/.test(s),d=s=>s.trim().length>0;function E(){const[s,m]=i.useState({name:"",email:"",phone:"",service:"",message:""}),[r,u]=i.useState({}),[g,x]=i.useState(!1),[p,h]=i.useState(""),[v,l]=i.useState(""),f=()=>{const a={};return d(s.name)||(a.name="Nome é obrigatório"),y(s.email)||(a.email="E-mail inválido"),j(s.phone)||(a.phone="Telefone inválido"),d(s.service)||(a.service="Selecione um serviço"),d(s.message)||(a.message="Mensagem é obrigatória"),u(a),Object.keys(a).length===0},b=async a=>{if(a.preventDefault(),!f()){console.warn("Tentativa de envio com validação falha",s);return}x(!0),h(""),l(""),console.info("Tentativa de envio do formulário",s);try{const t=await fetch("https://lytspot.onrender.com/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),o=await t.json();t.ok?(console.info("Mensagem enviada com sucesso",o),h("Mensagem enviada com sucesso!"),m({name:"",email:"",phone:"",service:"",message:""})):(console.error("Erro no envio da mensagem",o.error),l(o.error||"Erro ao enviar a mensagem."))}catch(t){console.error("Erro inesperado no envio",t),l("Erro inesperado. Tente novamente mais tarde.")}finally{x(!1)}},n=a=>{const{name:t,value:o}=a.target;m(c=>({...c,[t]:o})),r[t]&&u(c=>({...c,[t]:""}))};return e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-200 mb-1",children:"Nome"}),e.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:n,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary ${r.name?"border-red-500":"border-gray-300"}`}),r.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-200 mb-1",children:"E-mail"}),e.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:n,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary ${r.email?"border-red-500":"border-gray-300"}`}),r.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-200 mb-1",children:"Telefone"}),e.jsx("input",{type:"text",id:"phone",name:"phone",value:s.phone,onChange:n,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary ${r.phone?"border-red-500":"border-gray-300"}`}),r.phone&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.phone})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"service",className:"block text-sm font-medium text-gray-200 mb-1",children:"Serviço"}),e.jsxs("select",{id:"service",name:"service",value:s.service,onChange:n,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary ${r.service?"border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Selecione um serviço"}),e.jsx("option",{value:"Serviço 1",children:"Serviço 1"}),e.jsx("option",{value:"Serviço 2",children:"Serviço 2"})]}),r.service&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.service})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-200 mb-1",children:"Mensagem"}),e.jsx("textarea",{id:"message",name:"message",value:s.message,onChange:n,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary ${r.message?"border-red-500":"border-gray-300"}`}),r.message&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.message})]}),e.jsx("button",{type:"submit",className:"w-full bg-primary text-white py-3 rounded-lg hover:bg-primary/90 transition-colors",disabled:g,children:g?"Enviando...":"Enviar Mensagem"}),p&&e.jsx("p",{className:"text-green-500 text-sm mt-4",children:p}),v&&e.jsx("p",{className:"text-red-500 text-sm mt-4",children:v})]})}export{E as default};
